<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>认证资料</title>

		<link rel="stylesheet" href="../../static/css/common.css" />
		<link rel="stylesheet" href="../../static/css/login_common.css" />
		<link rel="stylesheet" href="../../static/css/consultation/stu_auth_data.css" />
		<link rel="stylesheet" type="text/css" href="../../static/css/header.css" />
		<link rel="stylesheet" type="text/css" href="../../static/css/footer.css" />
		<script src="../../static/js/jquery.min.js"></script>
		<script src="../../static/js/distpicker.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../static/js/vue.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/JavaScript" charset="UTF-8" src="../../static/js/header2.js"></script>
		<script src="../../static/js/public.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<div id="app6">
			<div id="header">
				<header-item></header-item>
			</div>

			<div class="bry_container">
				<!-- 标题及退出登录 -->
				<div class="bry_title_logout clearfix">
					<p class="fl">学生信息</p>
				</div>

				<!-- 内容区 -->
				<div class="bry_inner clearfix">
					<div class="bry_head_leftnav fl">
						<!-- 头像与名字 -->
						<div class="bry_people">
							<div class="bry_people_pic">
								<img :src="headImgPic==''?'../../assets/img/mechanism/headicon.jpg':headImgPic" />
								<span>医师</span>
								<div class="show_uploadHead" @click="show_uploadHead()">
									<span>更换头像</span>
								</div>
							</div>
							<span>{{this.username}}</span>
						</div>
						<!-- 认证与充值 -->
						<div class="bry_authentication_recharge">
							<span v-if="!isAuth">待认证</span>
							<span v-else>已认证</span>
							<a href="con_recharge.html">会员充值</a>
						</div>
						<!-- 侧导航 -->
						<ul class="bry_sidenav">
							<li class="bry_space1">
								<a href="con_basic_data.html">基本资料</a>
							</li>
							<li class="bry_space1 bry_sidenav_sel">
								<a href="doc_auth_data.html">认证资料</a>
							</li>
							<li class="bry_space1">
								<a href="con_browse.html">我的浏览</a>
							</li>
							<li class="bry_space1">
								<a href="con_answer.html">我的答疑</a>
							</li>
							<li class="bry_space1">
								<a href="con_comment.html">我的评论</a>
							</li>
							<li class="bry_space2">
								<a href="con_forum.html">我的论坛</a>
							</li>
							<li class="bry_space2">
								<a href="con_upload.html">我的发布</a>
							</li>
							<li class="bry_space2">
								<a href="con_message.html">我的消息</a>
							</li>
							<li class="bry_space2">
								<a href="con_account.html">我的账户</a>
							</li>
						</ul>
					</div>

					<div class="bry_main fl">
						<!-- 标题 -->
						<p class="bry_datatitle">
							<span class="bry_title_1">认证资料</span> 为了你得到更好体验
							<span class="bry_title_2">（如评论/学习/提问/论坛交流/咨询讲师/解答疑问/回复信息等）</span>
							请完善认证资料。
						</p>

						<!-- 资料选项 -->
						<!-- 姓名、性别、年龄 -->
						<div class="clearfix space1">
							<div class="clearfix">
								<span class="bry_left_title bry_star fl">姓名</span>
								<div class="bry_input_1 fl">
									<input type="text" v-model="realName" />
								</div>
							</div>

							<div class="bry_sex">
								<span>性别：</span>
								<!-- <label :class="sex=='男'?'sel_sex':''"><input type="radio" name="sex" value="男" v-model="sex"
									ref="man" />男</label>
							<label :class="sex=='女'?'sel_sex':''"><input type="radio" name="sex" value="女" v-model="sex"
									ref="women" />女</label>
							<label :class="sex=='保密'?'sel_sex':''"><input type="radio" name="sex" value="保密"
									v-model="sex" ref="dirty" />保密</label> -->
								<label :class="sxNum==1?'sel_sex':''" @click=getSex(1)><input type="radio" name="sex" ref="man" />男</label>
								<label :class="sxNum==2?'sel_sex':''" @click=getSex(2)><input type="radio" name="sex" ref="women" />女</label>
								<label :class="sxNum==3?'sel_sex':''" @click=getSex(3)><input type="radio" name="sex" ref="dirty" />保密</label>
							</div>

							<div class="clearfix">
								<span class="bry_right_title fl">年龄</span>
								<div class="bry_input_age fl">
									<input type="number" v-model="age" />
								</div>
							</div>
						</div>

						<!-- 地区 -->
						<div class="clearfix space1">
							<span class="bry_left_title fl">地区</span>
							<div data-toggle="distpicker" class="distp">
								<select data-province="---- 选择省 ----" class="province"></select>
								<select data-city="---- 选择市 ----" class="city"></select>
								<select data-district="---- 选择区 ----" class="dist"></select>
							</div>
						</div>

						<!-- 开户行 -->
						<div class="bry_left_title4 clearfix">
							<span class="bry_left_title bry_star fl">开户行</span>
							<div class="bry_input_4 fl">
								<select name="" id="" v-model="bankName">
									<option value="" selected:disabled>请选择银行</option>
									<option value="中国工商银行">中国工商银行</option>
									<option value="中国建设银行">中国建设银行</option>
									<option value="中国农业银行">中国农业银行</option>
									<option value="中国银行">中国银行</option>
									<option value="中国邮政银行">中国邮政银行</option>
								</select>
								<!-- <button type="button">修改</button> -->
							</div>
							<p class="fl">
								<span>注：提供开户行是为您在平台上发布收费内容，
									您获得收益提款之用。</span><span>
									建议使用工、农、中、建、交五大银行。</span>
							</p>
						</div>
						<!-- 开户地址/支行 -->
						<div class="clearfix bry_left_title4">
							<span class="bry_left_title bry_star fl">开户地址/支行</span>
							<div class="bry_input_4 fl">
								<!-- <select name="" id="">
								<option value="0">请选择支行</option>
							</select> -->
								<input type="text" name="" id="" v-model="bankPlace" value="" placeholder="请选择支行" />
								<!-- <button type="button">修改</button> -->
							</div>
							<!-- <p  class="fl"><span>注：提供开户行是为您在平台上发布收费内容， 您获得收益提款之用。</span><span> 建议使用工、农、中、建、交五大银行。</span></p> -->
						</div>
						<!-- 银行账户 -->
						<div class="clearfix bry_left_title4">
							<span class="bry_left_title bry_star fl">银行帐号</span>
							<div class="bry_input_4 fl">
								<input type="number" name="" id="" v-model="bankAccount" placeholder="请输入银行帐号" class="input_border" />
							</div>
						</div>

						<!-- 医生资格证号码 -->
						<div class="clearfix bry_left_title4">
							<span class="bry_left_title bry_star fl">医师资格证号码</span>
							<div class="bry_input_4 fl">
								<input type="text" placeholder="请输入医师资格证号码" class="input_border" v-model="studentNum" />
							</div>
						</div>

						<!-- 医生资格证上传 -->
						<div class="bry_license license2">
							<div class="bry_photo fl">
								<img :src="showImg3" alt="" />
							</div>
							<span>注：医生资格证个人信息页, jpg/png图片格式，
								大小2MB以内。</span>
							<div class="bry_li_delete">
								<a href="javascript:;" class="upload">上传<input type="file" @change="getFile($event,3)" accept=".jpg,.png,.bmp,.gif"
									 class="uploadIG" /></a>
							</div>
							<button type="button" class="bry_li_edit" @click="del(3)">
								删除
							</button>

						</div>

						<!-- 身份证号码 -->
						<div class="clearfix bry_left_title4">
							<span class="bry_left_title bry_star fl">身份证号码</span>
							<div class="bry_input_4 fl">
								<input type="text" placeholder="请输入身份证号码" class="input_border" v-model="CertId" />
							</div>
						</div>

						<!-- 身份证上传 -->
						<div class="bry_license license2">
							<div class="bry_photo fl">
								<img :src="showImg1" alt="" />
							</div>
							<div class="bry_photo fl photo2">
								<img :src="showImg2" alt="" />
							</div>
							<span>注：请上传身份证正反面jpg/png图片格式，
								大小2MB以内。</span>
							<div class="bry_li_delete">
								<a href="javascript:;" class="upload">上传<input type="file" @change="getFile($event,1)" accept=".jpg,.png,.bmp,.gif"
									 class="uploadIG" /></a>
							</div>
							<button type="button" class="bry_li_edit" @click="del(1)">
								删除
							</button>

							<div class="bry_li_delete delete2">
								<a href="javascript:;" class="upload">上传<input type="file" @change="getFile($event,2)" accept=".jpg,.png,.bmp,.gif"
									 class="uploadIG" /></a>
							</div>
							<button type="button" class="bry_li_edit edit2" @click="del(2)">
								删除
							</button>
						</div>

						<!-- 手持身份证正面照 -->
						<div class="bry_license">
							<div class="bry_photo fl">
								<img :src="showImg5" alt="" />
							</div>
							<span>注：请上传手持身份证正面照, 文件格式jpg/png，大小2MB以内</span>

							<div class="bry_li_delete">
								<a href="javascript:;" class="upload">上传<input type="file" @change="getFile($event,5)" accept=".jpg,.png,.bmp,.gif"
									 class="uploadIG" /></a>
							</div>
							<button type="button" class="bry_li_edit" @click="del(5)">
								删除
							</button>
						</div>

						<!-- 有效证件号码 -->
						<!-- <div class="bry_left_title4 clearfix">
						<span class="bry_left_title bry_star fl">学生证号码</span>
						<div class="bry_input_3 fl">
							<input type="text" v-model="studentNum" />
						</div>
					</div> -->

						<!-- 执照上传 -->
						<!-- <div class="bry_license">
						<div class="bry_photo fl">
							<img :src="showImg3" alt="" />
						</div>
						<span>注：请上传学生证个人信息页jpg/png等图片格式，
							大小5MB以内。</span>

						<div class="bry_li_delete">
							<a href="javascript:;" class="upload">上传<input type="file" @change="getFile($event,3)"
									accept=".jpg,.png,.bmp,.gif" class="uploadIG" /></a>
						</div>
						<button type="button" class="bry_li_edit" @click="del(3)">
							删除
						</button>
					</div> -->

						<!-- 确认函 -->
						<div class="bry_conletter">
							<span class="bry_left_title bry_star">确认函</span>
							<span class="bry_con_download"><a href="">确认函.doc 下载</a>（请下载样本文件填相关内容、签字盖章后扫描上传）</span>
							<div class="bry_con_photo">
								<img :src="showImg4" alt="" />
							</div>
							<div class="bry_con_delete">
								<a href="javascript:;" class="upload">上传<input type="file" @change="getFile($event,4)" accept=".jpg,.png,.bmp,.gif"
									 class="uploadIG" /></a>
							</div>
							<button type="button" class="bry_con_edit" @click="del(4)">
								删除
							</button>
							<p class="bry_con_tip">
								上传扫描件文件格式jpg/png，大小2MB以内。
							</p>
						</div>

						<!-- 版权声明等 -->
						<div class="bry_rule">
							<button type="button" :class="show?'cb-sel':'cb-default'" @click="choose"></button>
							<input type="hidden" value="0" />
							<span>
								勾选代表你同意<a href="javascript:;" v-for="(item, i) in statement" @click="open(i+1)">{{item}}</a>
							</span>
						</div>

						<!-- 保存按钮 -->
						<div class="bry_save">
							<button type="button" @click="uploadData">保 存</button>
						</div>
					</div>
				</div>
			</div>


			<!-- 修改头像弹出层 v-if="showHeadPic"2-->
			<div class="uploadHead_div" v-if="showHeadPic">
				<div class="uploadhead_pic">
					<span>上传头像</span>
					<div class="headimg_upload">
						<div class="big_headpic">

							<img :src="showHeadPic1" alt="">
							<span>推荐640*640像素，JPG/PNG,2MB以内，头像更改后保存刷新生效</span>
						</div>
						<div class="small_headpic">
							<img :src="showHeadPic1" alt="">
							<span>头像预览</span>
							<a href="javascript:;">
								<span>上传头像</span>
								<input type="file" @change="getFileH($event)" accept=".jpg, .png" multiple="multiple" />
							</a>

						</div>
					</div>

					<div class="decide_part">
						<button @click="closeUpload">取消</button>
						<button @click="uploadHeadPic">保存</button>
					</div>
				</div>
			</div>


			<div class="bry_footer">
				<div class="inner">
					<div class="bry_footer_nav">
						<ul class="clearfix">
							<li><a href="index.html">首页</a></li>
							<li><a href="bry_lecturer.html">讲师</a></li>
							<li><a href="bry_information.html">资讯</a></li>
							<li><a href="bry_Movies.html">视频</a></li>
							<li><a href="bry_audioFrequency.html">音频</a></li>
							<li><a href="bry_forum.html">论坛</a></li>
							<li><a href="encyclopedias.html">百科</a></li>
							<li><a href="book.html">电子书</a></li>
							<li><a href="about.html">关于我们</a></li>
						</ul>
					</div>
					<div class="bry_copy_msg clearfix">
						<div class="fl">
							<img src="../../assets/icon/footer/official_account.gif" />
							<div class="tc">关注公众号</div>
						</div>
						<div class="fl">
							<img src="../../assets/icon/footer/phone_code.gif" />
							<div class="tc">手机网站</div>
						</div>
						<div class="bry_copyright fl">
							<div>
								重庆思无邪网络科技有限公司 &nbsp;&nbsp;版权所有
							</div>
							<div>
								渝ICP备005665656号<img src="../../assets/icon/footer/keep_on_record.png" />渝公安备 50019002501739
							</div>
							<div>All Rights Reserved, Copyright 2019-2020</div>
						</div>
					</div>
				</div>
			</div>

			<!-- 弹出层 -->
			<div class="bry_layer clearfix" v-show="maskShow">
				<div class="bry_success_pic fl">
					<img src="../../assets/icon/success-sign1.png" />
				</div>
				<div class="bry_success_word fl">
					<span>你的认证资料已提交成功，请等待审核。</span>
					<span>认证成功后，您可以在平台上发布视/音频、资讯、百科、电子书等内容，可以设置内容是否收费，并能享受收费。
						您还可以评论、学习、提问、论坛交流、咨询、答疑、回复等权益。</span>
				</div>
			</div>
		</div>
	</body>
	<script src="../../static/js/public.js" type="text/javascript" charset="utf-8"></script>
	<script>
		var app6 = new Vue({
			el: "#app6",
			data() {
				return {
					statement: ["《注册声明》", "《版权声明》", "《隐私声明》"],
					username: "",
					show: false, //阅读声明
					realName: "", //真实姓名
					schoolName: "", //学校名称
					className: "", //班级名称
					studentNum: "", //医生资格证号码
					area: "", //所在地区
					sxNum: "1", //性别对应数字
					RoleId: "", //角色id
					age: "", //年龄
					showImg1: "", //展示身份证图片1
					showImg2: "", //展示身份证图片2
					showImg3: "", //展示医生资格证图片
					showImg4: "", //展示确认函图片
					showImg5: "", //展示手持身份证图片
					bankAccount: "", //银行账号

					bankName: "", //银行名称
					bankPlace: "", //开户地址
					CertId: "", //身份证号
					maskShow: false, // 弹出层是否显示
					imgArr1: "", //身份证图片1
					imgArr2: "", //身份证图片2	
					imgArr3: "", //医生资格证图片
					imgArr4: "", //确认函图片
					imgArr5: "", //手持身份证图片
					gi: '',
					CertPhoto: "", //身份证图片地址拼接
					isAuth: '', // 是否认证

					headImgPic: "", //头像显示
					showHeadPic1: "", //显示图片路径
					headPicUrl1: "", //接受图片路径准备上传
					showHeadPic: false, //修改图片弹出层bool值
				};
			},
			//获取昵称
			created() {
				const that = this
				var userId = foowwLocalStorage.getLocal("urseId")
				// 取出本地数据给data里的赋值
				console.log(userId)
				//ajax请求昵称
				getAjax("get", "Users/DetailDo", '{"UserId":"' + userId + '"}').then(res => {
					that.username = res.data.NickName
					that.isAuth = res.data.IsAuth
					that.headImgPic = res.data.HeadPhoto
					console.log(res.data.NickName)
				}, err => {
					console.log(err)
				})
			},
			methods: {
				choose() {
					this.show = !this.show;
				},
				getFile(event, index) {
					var imgArr = ""
					var showImg = ""

					var file = event.target.files;
					let that = this;
					for (var i = 0; i < file.length; i++) {
						// 上传类型判断
						var imgName = file[i].name;
						var idx = imgName.lastIndexOf(".");
						if (idx != -1) {
							var ext = imgName.substr(idx + 1).toUpperCase();
							ext = ext.toLowerCase();
							if (
								ext != "jpg" &&
								ext != "png" &&
								ext != "bmp" &&
								ext != "gif"
							) {} else {
								imgArr = file[i];
							}
						} else {}
						//展示上传的图片
						let reader = new FileReader();
						reader.readAsDataURL(file[i]);
						reader.onload = function(e) {

							showImg = this.result;
							// 将图片转码的base64传入通用类接口  返回的图片地址传给imgArr
							ajax("post", "Users/UploadPhotoByBase64Do", '{"base64":"' + this.result + '"}', "123456").then(res => {

								// console.log(res.data)
								imgArr = res.data
								console.log('====', imgArr)
								if (index == 1) {
									that.imgArr1 = imgArr
									that.showImg1 = showImg
								} else if (index == 2) {
									that.imgArr2 = imgArr
									that.showImg2 = showImg
								} else if (index == 3) {
									that.imgArr3 = imgArr
									that.showImg3 = showImg
								} else if (index == 4) {
									that.imgArr4 = imgArr
									that.showImg4 = showImg
								} else {
									that.imgArr5 = imgArr
									that.showImg5 = showImg
								}
							}, err => {
								console.log(err)
							})

						};
						// console.log(imgArr)
						// console.log(showImg)

					}
				},



				del(index) {
					if (index == 1) {
						this.showImg1 = "";
						this.imgArr1 = ""
					} else if (index == 2) {
						this.showImg2 = "";
						this.imgArr2 = ""
					} else if (index == 3) {
						this.showImg3 = "";
						this.imgArr3 = ""
					} else if (index == 4) {
						this.showImg4 = "";
						this.imgArr4 = ""
					} else {
						this.showImg5 = "";
						this.imgArr5 = ""
					}
				},
				// 获取性别对应数字
				getSex(num) {
					let that = this
					that.sxNum = num
					console.log(that.sxNum)
				},

				// 处理数据
				dealData() {

					let that = this
					that.CertPhoto = that.imgArr1 + "," + that.imgArr2 + "," + that.imgArr5
					that.area = $('.province').val() + $('.city').val() + $('.dist').val()
					console.log("真实姓名：", that.realName) // 获取真实姓名	
					console.log("性别数字：", that.sxNum) // 获取性别数字	
					console.log("年龄：", that.age) // 获取年龄	
					console.log("地址：", that.area) // 获取地址	
					console.log("相关银行:", that.bankName) // 获取相关银行
					console.log("银行地址:", that.bankPlace) // 获取相关银行地址
					console.log("银行帐户:", that.bankAccount) // 获取银行帐户
					console.log("身份证号:", that.CertId) // 获取身份证号
					console.log("图片1地址：", that.imgArr1) // 获取图片1地址
					console.log("图片2地址：", that.imgArr2) // 获取图片2地址
					console.log("图片3地址：", that.imgArr3) // 获取图片1地址
					console.log("图片4地址：", that.imgArr4) // 获取图片2地址
					console.log("身份证图片地址拼接", that.CertPhoto)
					console.log(foowwLocalStorage.getLocal("urseId"))
				},



				// 显示修改头像框5
				show_uploadHead() {
					console.log(0)
					this.showHeadPic = true
					console.log(this.showHeadPic)
				},
				//关闭修改头像框
				closeUpload() {
					this.showHeadPic = false
					console.log(this.showHeadPic)
				},
				// 上传图片6
				getFileH(event) {
					var file = event.target.files; //获取图片的所有信息
					console.log(file)
					let that = this;
					for (var i = 0; i < file.length; i++) {
						// 上传类型判断
						var imgName = file[i].name;
						var idx = imgName.lastIndexOf(".");
						console.log(idx)
						if (idx != -1) {
							var ext = imgName.substr(idx + 1).toUpperCase(); //获取图片格式
							console.log(ext)
							ext = ext.toLowerCase();
							if (
								ext != "jpg" &&
								ext != "png" &&
								ext != "bmp" &&
								ext != "gif"
							) {
								return this.$message({
									message: '图片格式不支持~',
									type: 'warning',
									offset: 250
								})
							} else {
								that.headPicUrl1 = file[i];
								// console.log(that.imgArr)

							}
						} else {}
						//展示上传的图片
						console.log("-------------------------")
						let reader = new FileReader();

						reader.readAsDataURL(file[i]);

						reader.onload = function(e) {
							that.showHeadPic1 = this.result
							// console.log("base64:"+that.imgArr)
							console.log("base64:" + this.result)
							// 将图片转码的base64传入通用类接口  返回的图片地址传给imgArr
							ajax("post", "Users/UploadPhotoByBase64Do", '{"base64":"' + this.result + '"}', "123456").then(res => {

								console.log(res.data)
								that.headPicUrl1 = res.data
								console.log(that.headPicUrl1)
							}, err => {
								console.log(err)
							})

						};
					}
				},
				// 修改头像上传7
				uploadHeadPic() {
					if (this.headPicUrl1 == "") {
						return this.$message({
							message: '无图无法上传~',
							type: 'warning',
							offset: 250
						})
					}

					ajax("post", "Users/SetHeadPhotoDo", '{"HeadPhoto":"' + this.headPicUrl1 + '","UserId":"' + foowwLocalStorage.getLocal(
						"urseId") + '"}', "123456").then(res => {
						this.$message({
							message: '上传头像成功!',
							type: 'warning'
						})
						setTimeout(() => {
							window.location.reload()
						}, 2000);

					}, err => {
						console.log(err)
						this.$message({
							message: '上传头像失败!',
							type: 'warning'
						})
					})
				},


				// 上传资料
				uploadData() {
					let that = this
					this.dealData()
					// 身份证账户正则验证
					var idCardTest =
						/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/
					//银行卡账户正则验证
					var bankAccountTest = /^([1-9]{1})(\d{14}|\d{18})$/
					if (!this.realName.trim()) {
						return this.$message({
							message: '请填写真实姓名~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.age.trim()) {
						return this.$message({
							message: '请输入年龄~',
							type: 'warning',
							offset: 250
						})
					} else if (parseInt(that.age) < 18 || parseInt(that.age) > 100) {
						return this.$message({
							message: '年龄需要在18~100~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.area.trim()) {
						return this.$message({
							message: '请选择地区~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.bankName.trim()) {
						return this.$message({
							message: '请选择银行~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.bankPlace.trim()) {
						return this.$message({
							message: '请填写开户地址~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.bankAccount) {
						return this.$message({
							message: '请填写银行帐户~',
							type: 'warning',
							offset: 250
						})
					} else if (!bankAccountTest.test(this.bankAccount)) {
						return this.$message({
							message: '银行卡账户格式有误~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.studentNum.trim()) {
						return this.$message({
							message: '请填写医生资格证号码~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.imgArr3.trim()) {
						return this.$message({
							message: '请上传医生资格证照~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.CertId.trim()) {
						return this.$message({
							message: '请填写身份证号码~',
							type: 'warning',
							offset: 250
						})
					} else if (!idCardTest.test(this.CertId)) {
						return this.$message({
							message: '身份证格式有误~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.imgArr1.trim()) {
						return this.$message({
							message: '请上传身份证正面照~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.imgArr2.trim()) {
						return this.$message({
							message: '请上传身份证背面照~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.imgArr5.trim()) {
						return this.$message({
							message: '请上传手持身份证正面照~',
							type: 'warning',
							offset: 250
						})
					} else if (!this.imgArr4.trim()) {
						return this.$message({
							message: '请上传确认函~',
							type: 'warning',
							offset: 250
						})
					} else if (this.show == false) {
						return this.$message({
							message: '请阅读认证声明~',
							type: 'warning',
							offset: 250
						})
					}

					ajax("post", "Users/PostAuthDo", '{"RealName":"' + that.realName + '","Sex":"' + that.sxNum + '","CertId":"' +
						that.CertId + '","Areas":"' + that.area + '","RoleId":"' + foowwLocalStorage.getLocal("RoleId") +
						'","QualiCardNo":"' + that.studentNum + '","QualiCardPhoto":"' + that.imgArr3 + '","Age":"' +
						that.age + '","BankName":"' + that.bankName + '","BranchBankName":"' + that.bankPlace +
						'","BankAccount":"' + that.bankAccount + '","Confirmation":"' + that.imgArr4 + '","CertPhoto":"' + that.CertPhoto +
						'","UserId":"' + foowwLocalStorage.getLocal("urseId") + '"}', "123456").then(res => {
						//console.log(res)
						that.maskShow = true
						setTimeout(() => {
							window.location.reload()
						}, 2000)
					}, err => {
						//console.log(err)
						this.$message({
							message: '上传失败,请稍后再试',
							type: 'warning',
							offset: 250
						})
					})
				},
				async open(id) {
					var res = await getAjax("get", "PageInfo/DetailDo", '{"Id":"' + id + '"}')
					this.$alert(res.data.Contents, res.data.Title, {
						lockScroll: false,
						callback: action => {

						}
					});
				}
				// getdata() {
				// 	var git = this.gi
				// 	ajax('post', 'Users/UploadPhotoByBase64Do', '{"base64":"' + git + '"}', 'd1a70e19421a51a72ba3ae15210a1ee3').then(res => {

				// 	});

				// }
			},
		});
	</script>

</html>
